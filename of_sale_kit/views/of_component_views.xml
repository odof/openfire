<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="of_view_sale_comp_form" model="ir.ui.view">
        <field name="name">of.kit.sale.order.line.comp.form</field>
        <field name="model">sale.order.line.comp</field>
        <field name="arch" type="xml">
            <form string="Sales Order Component">
            <header>
                <h2>Sale Order Line Component</h2>
            </header>
            <sheet>
                <group>
                    <separator string="General Information" name="General Information"/>
                    <separator string="Quantities" name="Quantities"/>
                    <group name="General Information">
                        <field name="product_id"/>
                        <field name="name"/>
                        <field name="order_id" required="False"/>
                        <field name="order_line_id" required="False"/>
                        <field name="parent_id" attrs="{'invisible': [('parent_id','=',False)]}"/>
                        <field name="load_children"
                			attrs="{'invisible': ['|',('children_loaded','=',True),('is_kit_order_comp','=',False)]}"/>
                    </group>
                    <group  name="Quantities">
                        <field name="qty_bom_line"/>
                        <field name="qty_so_line"/>
                        <field name="nb_units"/>
                        <field name="qty_total"/>
                        <field name="product_uom"/>
                    </group>
                    <div/>
                    <separator string="Prices" name="Prices" attrs="{'invisible': [('hide_prices','=',True)]}"/>
                    <div/>
                    <group name="Prices" attrs="{'invisible': [('hide_prices','=',True)]}">
                        <!--<field name="pricing" required="False"/>-->
                        <field name="unit_price" attrs="{'invisible': [('is_kit_order_comp','=',True)]}"/>
                        <field name="children_price" attrs="{'invisible': [('is_kit_order_comp','=',False)]}"/>
                        <field name="shown_price"/>
                        <field name="shown_price_total"/>
                    </group>
                </group>
                <div name="hide_prices_message" attrs="{'invisible': [('hide_prices','=',False)]}">
                	<i>prices are not shown when the sale order line pricing is set to 'fixed'</i>
                </div>
                <separator string="Underkit Components" name="Underkit Components" attrs="{'invisible': [('is_kit_order_comp','=',False)]}"/>
                <field name="child_ids" mode="tree" attrs="{'invisible': [('is_kit_order_comp','=',False)]}">
                    <tree string="Underkit Components">
                    	<field name="product_id"/>
                    	<field name="bom_path"/>
                        <field name="rec_lvl" invisible="1"/>
                        <field name="is_kit_order_comp" invisible="1"/>
                        <!--<field name="order_line_pricing" invisible="1"/>-->
                        <field name="parent_id" invisible="1"/>
                        <field name="child_ids" invisible="1"/>
                        <!-- <field name="order_line_id"/> -->
                        <field name="name"/>
                        <field name="qty_bom_line"/>
                        <field name="qty_so_line"/>
                        <field name="qty_total" invisible="1"/>
                        <field name="product_uom"/>
                        <field name="hide_prices" invisible="1"/>
                        <field name="unit_price" attrs="{'invisible': ['|',('is_kit_order_comp','=',True),('hide_prices','=',True)]}"/>
                        <field name="shown_price" attrs="{'invisible': [('hide_prices','=',True)]}"/>
                        <field name="shown_price_total" attrs="{'invisible': [('hide_prices','=',True)]}"/>
                    </tree>
                </field>
                <separator string="Developer Mode Information" name="Developer Mode Information" groups="base.group_no_one"/>
                <group name="Developer Mode Information" groups="base.group_no_one">
                	<field name="id"/>
                    <field name="is_kit_order_comp"/>
                    <field name="rec_lvl"/>
                    <field name="bom_path"/>
                    <!--<field name="order_line_pricing"/>-->
                    <field name="parent_id"/>
                    <field name="children_loaded"/>
                    <field name="hide_prices"/>
                </group>
            </sheet>
            </form>
        </field>
    </record>
    
    <record id="of_view_sale_comp_tree" model="ir.ui.view">
        <field name="name">of.kit.sale.order.line.comp.tree</field>
        <field name="model">sale.order.line.comp</field>
        <field name="arch" type="xml">
            <tree string="Kit components">
                <field name="rec_lvl" invisible="1"/>
                <field name="is_kit_order_comp" invisible="1"/>
                <!-- <field name="order_line_id" invisible="1"/> -->
                <!--<field name="order_line_pricing" invisible="1"/>-->
                <field name="parent_id" invisible="1"/>
                <field name="child_ids" invisible="1"/>
                <field name="bom_path"/>
                <field name="product_id"/>
                <field name="name"/>
                <field name="qty_bom_line"/>
                <field name="qty_so_line"/>
                <field name="qty_total"/>
                <field name="product_uom"/>
                <field name="hide_prices" invisible="1"/>
                <field name="unit_price" attrs="{'invisible': ['|',('is_kit_order_comp','=',True),('hide_prices','=',True)]}"/>
                <field name="shown_price" attrs="{'invisible': [('hide_prices','=',True)]}"/>
                <!--<field name="shown_price_total" attrs="{'invisible': [('is_kit_order_comp','=',True)]}"/>-->
            </tree>
        </field>
    </record>
</odoo>