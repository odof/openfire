<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_res_wizard_new" model="ir.ui.view">
        <field name="name">Planifier_intervention_new</field>
        <field name="model">of.tournee.rdv2</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Planifier une intervention (nouvelle mÃ©thode)">
                <separator string="Informations" style="margin-top: 0px; margin-bottom: 0px"/>
                <field name="partner_id" invisible="1"/>
                <group style="margin-top: 0px; margin-bottom: 0px;">
                    <group>
                        <field name="partner_address_id" string="Adresse" widget="selection"/>
                        <field name="tache_id"/>
                        <field name="duree" widget="float_time"/>
                    </group>
                    <group>
                        <field name="service_id"/>
                        <field name="equipe_id_pre"/>
                    </group>
                </group>

                <separator string="Recherche" style="margin-top: 0px; margin-bottom: 0px"/>
                <group style="margin-top: 0px; margin-bottom: 0px;">
                    <group>
                        <field name="mode2"/>
                        <field name="epicenter"/>
                        <field name="client_id" attrs="{'invisible':[('epicenter','!=','client_address')]}"/>
                        <field name="distance2" attrs="{'invisible':[('mode2','=','time_by_road')]}"/>
                        <field name="time2" widget="float_time" attrs="{'invisible':[('mode2','!=','time_by_road')]}"/>
                    </group>
                    <group>
                        <field name="date_recherche_debut"/>
                        <field name="date_recherche_fin"/>
                        <field name="epi_lat"/>
                        <field name="epi_lng"/>
                    </group>
                </group>

                <separator string="Propositions" style="margin-top: 0px; margin-bottom: 4px"/>
                <group style="margin-top: 0px; margin-bottom: 0px;">
                    <field name="planning_ids" colspan="4" nolabel="1" readonly="1">
                        <tree string="Propositions des RDVs" colors="green:intervention_id==False">
                            <field name="description" readonly="1"/>
                            <field name="equipe_id" readonly="1"/>
                            <field name="intervention_id"/>
                            
                        </tree>
                        <form string="Propositions des RDVs">
                            <field name="description" readonly="1"/>
                            <field name="equipe_id" readonly="1"/>
                            
                        </form>
                    </field>
                
                </group>
                
                
            </form>
        </field>
    </record>

    <act_window
        name="Planifier une intervention (nouvelle methode)"
        res_model="of.tournee.rdv2"
        src_model="res.partner"
        view_mode="form"    
        view_id="view_res_wizard_new"
        id="action_view_res_wizard2"
        key2="client_action_multi"
        target="new"        
        context="{'model':'res.partner'}"
        groups="of_planning.of_group_planning_intervention_user"
    />

</odoo>
